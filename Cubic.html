<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EOL BSpline Library: B-Spline</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EOL BSpline Library
   &#160;<span id="projectnumber">v2.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">B-Spline </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Gary Granger (<a href="http://www.eol.ucar.edu/homes/granger">http://www.eol.ucar.edu/homes/granger</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>June, 2022</dd></dl>
<h1><a class="anchor" id="download"></a>
Download</h1>
<p>This software is copyright 2022 by the University Corporation for Atmospheric Research (UCAR). It is licensed for use according to the standard BSD license:</p>
<ul>
<li><a href="http://www.opensource.org/licenses/bsd-license.html">http://www.opensource.org/licenses/bsd-license.html</a></li>
</ul>
<p>When citing this software, here is a suggested reference:</p>
<pre class="fragment">This software is written by Gary Granger of the National Center for
Atmospheric Research (NCAR), sponsored by the National Science Foundation
(NSF).  The algorithm is based on the cubic spline described by Katsuyuki
Ooyama in Montly Weather Review, Vol 115, October 1987.  This
implementation has benefited from comparisons with a previous FORTRAN
implementation by James L. Franklin, NOAA/Hurricane Research Division.
</pre><p>The source should be available for download from github here:</p>
<ul>
<li><a href="https://github.com/NCAR/bspline">https://github.com/NCAR/bspline</a></li>
</ul>
<p>The generated documentation may also be online here:</p>
<ul>
<li><a href="http://ncar.github.io/bspline/">http://ncar.github.io/bspline/</a></li>
</ul>
<h1><a class="anchor" id="documentation"></a>
Documentation</h1>
<p>For an overview of the library and its usage, see the documentation for the <a class="el" href="classBSplineBase.html">BSplineBase</a> class.</p>
<p>There is no documentation (as yet) on any of the mathematical details of the implementation. Refer to the Ooyama article, and there may be some notes in the source.</p>
<p>The HTML documentation is generated from the source files by Doxygen (<a href="http://www.doxygen.org">http://www.doxygen.org</a>). Thanks to Dimitri for a great tool.</p>
<h1><a class="anchor" id="releasenotes"></a>
Release Notes</h1>
<h2>Release 2.1</h2>
<p>Fix missing assignment operator bug in <a class="el" href="classBSplineBase.html">BSplineBase</a>. Thanks to @AlexRockliff for reporting it.</p>
<p>Add simple automated test which compares sample outputs against baseline.</p>
<h2>Release 2.0</h2>
<p>The two obsolete version methods were merged into one, <a class="el" href="classBSplineBase.html#a0f101eb05135df237d55f2d07647a045" title="Return a string describing the bspline library version.">BSplineBase::Version()</a>, and the method reports useful information even when the library is used as headers only, without compiling. There are no changes to the spline computation.</p>
<h2>Release 1.6</h2>
<p>Documentation changes for migrating to github.</p>
<h2>Release 1.5</h2>
<p>Change the license to BSD and update some of the documentation.</p>
<h2>Release 1_4</h2>
<p>The source tree was rearranged to make it a little more comprehensible to outside users. The DLL build functionality was removed, as it just doesn't seem necessary to add this complication. The Makefile build system was replaced with Scons (<a href="http://www.scons.org">http://www.scons.org</a>).</p>
<p>The driver program was renamed to bspline.</p>
<h2>Release 1_3</h2>
<p>This release builds against GCC 4.0. Names in the <a class="el" href="classBSplineBase.html">BSplineBase</a> template base class needed to be declared in the <a class="el" href="classBSpline.html">BSpline</a> subclass scope, now that GCC enforces the standard rule about non-template-type-dependent names being resolved when templates are declared.</p>
<p>The driver program now takes an optional third command-line argument for setting the boundary condition type.</p>
<p>There is an R script for generating plots of several combinations of the cutoff and boundary condition options to the driver program. See <a class="el" href="Cubic.html#samples">Samples</a> for details.</p>
<h2>Release 1_2</h2>
<p>This release updates the code to compile with GCC 3.2, which enforces more standards compliance like the use of 'typename'. Also the GNU libstdc++ no longer uses pointers as vector iterators, so occurences of vector&lt;&gt;::begin() have been replaced with &amp;(vector[0])</p>
<p>Lastly, in this release the C++ filename extension has been changed from cxx to cpp.</p>
<h1><a class="anchor" id="samples"></a>
Samples</h1>
<p>The Tests/Data directory contains several sample data files for the driver program. The sample.txt file contains an example of dropsonde data. From that file, three fields have been extracted into separate files:</p>
<ul>
<li>sample.wdir Wind direction</li>
<li>sample.wspd Wind speed</li>
<li>sample.temps Temperature</li>
</ul>
<p>Each file is a simple text format with two columns. The first column is time, the second is the field measurement. This is the format which the example driver program expects. Any text file with alternating X and Y values will work in the driver program.</p>
<p>To run the driver program, pipe the data into the standard input, and pass the <code>step</code>, <code>cutoff</code>, and <code>boundary-condition</code> options on the command line.</p>
<div class="fragment"><div class="line">Usage: ./driver &lt;step&gt; &lt;cutoff&gt; [&lt;bc&gt;]</div>
<div class="line">  &lt;step&gt; is the number of points to skip in the input.</div>
<div class="line">  &lt;cutoff&gt; is the cutoff wavelength.</div>
<div class="line">  &lt;bc&gt; is the boundary condition--0, 1, or 2--meaning zero</div>
<div class="line">       the 0th, 1st, or 2nd derivative at the end points.</div>
</div><!-- fragment --><p>For example:</p>
<div class="fragment"><div class="line">./driver 1 5 2 &lt; sample.temps</div>
</div><!-- fragment --><p>The driver produces two output files:</p>
<ul>
<li>spline.out: The computed spline function evaluated at 2000 evenly-spaced points along the X domain. The first column is the X value, the second is the spline evaluation at that point, and the third is the evaluation of the spline's first derivative.</li>
<li>input.out: This output contains the original input data in the first and second columns, and the third column holds the spline function evaluated on the original X values.</li>
</ul>
<p>The R (<a href="http://www.r-project.org">http://www.r-project.org</a>) script runs the driver program on the sample temperatures over a range of boundary conditions and cutoff frequencies. The results are plotted in 6 PNG images.</p>
<table border="2">
<tr>
<th>Cutoff</th><th>BC 0</th><th>BC 1</th><th>BC 2 </th></tr>
<tr>
<td>5 </td><td><a href="plot-spline-temps-5-0.png">plot-spline-temps-5-0.png</a> </td><td><a href="plot-spline-temps-5-1.png">plot-spline-temps-5-1.png</a> </td><td><a href="plot-spline-temps-5-2.png">plot-spline-temps-5-2.png</a> </td></tr>
<tr>
<td>30 </td><td><a href="plot-spline-temps-30-0.png">plot-spline-temps-30-0.png</a> </td><td><a href="plot-spline-temps-30-1.png">plot-spline-temps-30-1.png</a> </td><td><a href="plot-spline-temps-30-2.png">plot-spline-temps-30-2.png</a>  </td></tr>
</table>
<p>Note that for boundary condition 0, the endpoints are not at zero as might be expected. The spline algorithm first removes the mean from the input data to improve the matrix calculations, and the mean is added back in when evaluating the spline at any point. Thus the endpoints for boundary condition 0 will actually be the mean value of the input range. If you need to force the endpoints to be zero, remove the mean from the data before computing the spline, or else change the source code for computing the spline.</p>
<h1><a class="anchor" id="background"></a>
Background</h1>
<p>This is a C++ implementation of a cubic b-spline least squares and derivative constraint algorithm. See the documentation for the <a class="el" href="classBSplineBase.html">BSplineBase</a> class (in <a class="el" href="BSplineBase_8h.html">BSpline/BSplineBase.h</a>) for details.</p>
<p>This work was done for meteorological research at the University Corporation for Atmospheric Research (<a href="http://www.ucar.edu/">http://www.ucar.edu/</a>). There is no warranty of any kind. Please see the COPYRIGHT file.</p>
<h1><a class="anchor" id="installation"></a>
Installation</h1>
<p>As the implementation itself is entirely template code, it is not necessary to build the library separately. The template implementation can be included directly. The templates can also be compiled for the usual float and double types into their own object modules and library (DLL on Win32). See the documentation for details.</p>
<p>The distribution contains two parts. The b-spline code itself is contained in the BSpline/ directory, while test data and the C++ test driver program are under the Tests directory. There are MS Studio solution and projects files which should build the library for floats and doubles. On UNIX, the software is compiled with SCons (<a href="http://www.scons.org/">http://www.scons.org/</a>). Run <code>scons -u</code> to build the library and also the C++ driver program.</p>
<p>To install the code into an include directory, all of the *.cpp and *.h files in BSpline/ must be copied into the include directory.</p>
<h1><a class="anchor" id="questions"></a>
Questions</h1>
<p>I'd be happy to try to answer any questions, and certainly happy to hear about any bugs or improvements. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
